<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8">
  <title>アカウント・請求先情報フォーム</title>

  <script>
    // URL から日本語含むパラメータを取得
    const params = new URLSearchParams(window.location.search);

    const BusinessAccountId = params.get("accountId") || "";
    const BusinessName      = decodeURIComponent(params.get("accountName") || "");
    const OpportunityId     = params.get("opptyId") || "";

    // HTML 内の {{}} を置換
    document.addEventListener("DOMContentLoaded", () => {
      document.body.innerHTML = document.body.innerHTML
        .replace(/{{BusinessAccountId}}/g, BusinessAccountId)
        .replace(/{{BusinessName}}/g, BusinessName)
        .replace(/{{OpportunityId}}/g, OpportunityId);
    });
  </script>
</head>

<body>

<form action="https://rehabforjapan--testmrgc.sandbox.my.salesforce.com/servlet/servlet.WebToCase?encoding=UTF-8&orgId=00DBK00000416sH" method="POST">

  <input type="hidden" name="orgid" value="00DBK00000416sH">
  <input type="hidden" name="retURL" value="https://rehabforjapan.com/">

  <!-- ここが今回の最重要ポイント：hidden に自動セットする -->
  <!-- 商談ID（OpportunityId__c） -->
  <input type="hidden" id="00NBK0000065r53" name="00NBK0000065r53" value="{{OpportunityId}}">

  <!-- 取引先ID（AccountId__c） -->
  <input type="hidden" id="00NBK0000066D2L" name="00NBK0000066D2L" value="{{BusinessAccountId}}">

  <h2>【事業所：{{BusinessName}}】</h2>
  <p>この事業所のアカウント情報および請求先情報を入力してください。</p>

  アカウント_姓:
  <input id="00NBK0000065l7h" maxlength="255" name="00NBK0000065l7h" size="20" type="text" /><br>

  アカウント_名:
  <input id="00NBK0000065hCH" maxlength="255" name="00NBK0000065hCH" size="20" type="text" /><br>

  アカウント_セイ:
  <input id="00NBK0000065gZS" maxlength="255" name="00NBK0000065gZS" size="20" type="text" /><br>

  アカウント_メイ:
  <input id="00NBK0000065lFl" maxlength="255" name="00NBK0000065lFl" size="20" type="text" /><br>

  <label for="email">メール</label>
  <input id="email" maxlength="80" name="email" size="20" type="text" /><br>

  請求先名:
  <input id="00NBK0000065lsT" maxlength="255" name="00NBK0000065lsT" size="20" type="text" /><br>

  請求先担当者名:
  <input id="00NBK0000065bjU" maxlength="255" name="00NBK0000065bjU" size="20" type="text" /><br>

  請求先電話番号:
  <input id="00NBK0000065l2s" maxlength="255" name="00NBK0000065l2s" size="20" type="text" /><br>

  請求先メールアドレス:
  <input id="00NBK0000065m3l" maxlength="80" name="00NBK0000065m3l" size="20" type="text" /><br>

  請求先郵便番号:
  <input id="00NBK0000065mLV" maxlength="255" name="00NBK0000065mLV" size="20" type="text" /><br>

  請求先住所（都道府県）:
  <input id="00NBK0000065hVj" maxlength="255" name="00NBK0000065hVj" size="20" type="text" /><br>

  請求先住所（市区郡）:
  <input id="00NBK0000065mOj" maxlength="255" name="00NBK0000065mOj" size="20" type="text" /><br>

  請求先住所（町名番地）:
  <input id="00NBK0000065lu6" maxlength="255" name="00NBK0000065lu6" size="20" type="text" /><br>

  支払方式:
  <select id="00NBK0000065gbI" name="00NBK0000065gbI" title="支払方式">
    <option value="">--なし--</option>
    <option value="マネーフォワードケッサイ（口座振替）">マネーフォワードケッサイ（口座振替）</option>
    <option value="マネーフォワードケッサイ（銀行振替）">マネーフォワードケッサイ（銀行振替）</option>
  </select><br>

  通知方法:
  <select id="00NBK0000065mbd" name="00NBK0000065mbd" title="通知方法">
    <option value="">--なし--</option>
    <option value="メール">メール</option>
    <option value="郵送">郵送</option>
  </select><br>

  <input type="submit" name="submit">

</form>

</body>
</html>
